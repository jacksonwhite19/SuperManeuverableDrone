# Remote Monitoring Guide for Week-Long Trip

This guide helps you monitor and control your optimizer remotely while you're away.

## Quick Setup (5 minutes)

### 1. Generate Dashboard
```bash
python monitor_dashboard.py
```
This creates `dashboard.html` - a self-contained dashboard you can view in any browser.

### 2. Start Web Server (if not already running)
```bash
python remote_control_server.py
```
Access at: `http://[YOUR_IP]:8080`

### 3. Set Up Remote Access

**Option A: Local Network Only**
- Access from any device on your home network
- URL: `http://[YOUR_COMPUTER_IP]:8080`
- Find your IP: `ipconfig` (Windows) or `ifconfig` (Mac/Linux)

**Option B: Internet Access (Recommended)**
- Use ngrok for secure tunneling:
  ```bash
  ngrok http 8080
  ```
- Use the HTTPS URL provided (e.g., `https://abc123.ngrok.io`)
- This works from anywhere in the world

**Option C: Cloud Sync**
- If Optimization folder is in OneDrive/Dropbox:
  - Monitor: Check `optimizer_status.json` and `dashboard.html`
  - Control: Edit `optimizer_control.txt` (write "stop", "pause", or "resume")

## Monitoring Tools

### 1. Web Dashboard (Best Option)
- **URL**: `http://[YOUR_IP]:8080` or ngrok URL
- **Features**:
  - Real-time status (auto-refreshes)
  - Progress charts
  - Best design parameters
  - Control buttons (stop/pause/resume)

### 2. Standalone Dashboard
- **File**: `dashboard.html` (generated by `monitor_dashboard.py`)
- **Update**: Run `python monitor_dashboard.py` periodically
- **View**: Open in any web browser (works offline)
- **Share**: Can be synced via OneDrive/Dropbox

### 3. Status Check Scripts
```bash
# Quick status check
python check_status.py

# Detailed progress analysis
python check_progress.py

# Health check (is optimizer still running?)
python check_optimizer_alive.py
```

### 4. Status File (JSON)
- **File**: `optimizer_status.json`
- **Updates**: Every iteration (~3-5 minutes)
- **Format**: JSON with all current stats
- **Access**: Read via cloud sync or web server

## Control Commands

### Via Web Interface
1. Open web dashboard
2. Click buttons: "Pause", "Resume", or "Stop"

### Via File (Cloud Sync)
1. Create/edit `optimizer_control.txt`
2. Write one line: `stop`, `pause`, or `resume`
3. Optimizer checks between iterations (5-10 min delay)

### Via Command Line (SSH)
```bash
python control_optimizer.py status
python control_optimizer.py pause
python control_optimizer.py resume
python control_optimizer.py stop
```

## Automated Monitoring (Optional)

### Windows Task Scheduler
Set up a task to run `check_optimizer_alive.py` every hour and email you if it fails.

### Simple Batch Script
Create `monitor_loop.bat`:
```batch
@echo off
:loop
python check_optimizer_alive.py
timeout /t 3600 /nobreak
goto loop
```

## What to Check Daily

1. **Is it running?**
   - Check `optimizer_status.json` timestamp (should be <15 min old)
   - Or run `python check_optimizer_alive.py`

2. **Progress?**
   - Check generation number (should increase)
   - Check best objective (hopefully improving)

3. **Any issues?**
   - Check `optimizer_output.log` for errors
   - Look for unusually long VSPAero runs (>10 min)

## Emergency Actions

### If Optimizer Crashes
1. Check `optimizer_output.log` for error messages
2. Restart: `python optimizer2.py`
3. It will resume from where it left off (best design is saved)

### If Computer Needs to Shut Down
1. **Pause** optimizer first (via web or control file)
2. Shut down computer
3. **Resume** when you restart (optimizer will continue)

### If You Need to Stop
1. Use **Stop** command (via web or control file)
2. Best design is saved in `optimizer_status.json`
3. Full history in `opt_history.csv`

## Files to Monitor

- `optimizer_status.json` - Current status (updates every iteration)
- `opt_history.csv` - Full evaluation history
- `dashboard.html` - Visual dashboard (regenerate periodically)
- `optimizer_output.log` - Detailed log (check for errors)

## Expected Timeline

Based on current progress:
- **Current**: Generation 8 of 40 (~20% complete)
- **Week 1**: Should reach Generation 15-20
- **Completion**: ~40-50 hours total runtime
- **Best results**: Likely around Generation 25-30

## Tips

1. **Dashboard Updates**: Run `python monitor_dashboard.py` daily to refresh charts
2. **Health Checks**: Run `python check_optimizer_alive.py` if status seems stale
3. **Cloud Sync**: If using OneDrive/Dropbox, files sync automatically
4. **Web Server**: Keep `remote_control_server.py` running for remote access
5. **Don't Panic**: If status doesn't update for 10-15 min, VSPAero is probably just running a long analysis

## Troubleshooting

### Can't Access Web Interface
- Check Windows Firewall allows port 8080
- Verify web server is running: `python remote_control_server.py`
- Try local network first: `http://localhost:8080`

### Status File Not Updating
- Normal if VSPAero is running (5-10 min per iteration)
- Check `optimizer_output.log` for activity
- Run `check_optimizer_alive.py` to verify

### Commands Not Working
- Optimizer checks control file between iterations (5-10 min delay)
- Ensure file is in correct directory
- Check optimizer is actually running

## Security Notes

⚠️ **Important**: Web server has no authentication by default.

**For secure access:**
- Use ngrok (provides HTTPS)
- Set up VPN to home network
- Use SSH tunneling
- Don't expose to public internet without protection

---

**You're all set!** The optimizer will continue running, and you can monitor it from anywhere.

